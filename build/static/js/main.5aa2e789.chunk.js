(this.webpackJsonpforum=this.webpackJsonpforum||[]).push([[0],{52:function(e,t,n){},53:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var s=n(0),c=n(22),i=n.n(c),r=(n(52),n(6)),a=(n(53),n(54),n(14)),j=n(76),o=n(72),l=n(77),d=n(1),b=function(){return Object(d.jsx)("div",{children:Object(d.jsx)(j.a,{bg:"dark",variant:"dark",children:Object(d.jsxs)(o.a,{children:[Object(d.jsx)(j.a.Brand,{href:"/",children:"Speakit"}),Object(d.jsxs)(l.a,{className:"me-auto",children:[Object(d.jsx)(l.a.Link,{as:a.b,to:"/",children:"Home"}),Object(d.jsx)(l.a.Link,{as:a.b,to:"/categories",children:"Categories"})]})]})})})},h=(n(42),n(79)),u=n(74),O=n(47),p=n(75),x=n(73),m=n(78),f=(n(64),function(e){var t=Object(s.useState)(null),n=Object(r.a)(t,2),c=n[0],i=n[1],a=Object(s.useState)(!1),j=Object(r.a)(a,2),l=j[0],b=j[1],u=Object(s.useState)([]),O=Object(r.a)(u,2),p=O[0],m=O[1],f="https://speakit-cs361.wl.r.appspot.com/comments/"+e.id;Object(s.useEffect)((function(){fetch(f).then((function(e){return e.json()})).then((function(e){b(!0),console.log("comment",e),m(e)}),(function(e){b(!0),i(e)}))}),[]);return c?Object(d.jsxs)("div",{children:["Error: ",c.message]}):l?e.user.username==p.user?Object(d.jsx)("div",{children:Object(d.jsx)(o.a,{children:Object(d.jsx)(h.a,{children:Object(d.jsxs)(h.a.Text,{children:[Object(d.jsxs)("div",{className:"content",children:[p.user,": ",p.content]}),Object(d.jsx)(x.a,{variant:"danger",onClick:function(){fetch(f,{method:"DELETE"}).then((function(){fetch("https://speakit-cs361.wl.r.appspot.com/posts/"+e.parent+"/comments").then((function(t){return t.json().then((function(t){e.setState(t)}),(function(e){}))}))}))},children:"Delete"})]})})})}):Object(d.jsx)("div",{children:Object(d.jsx)(o.a,{children:Object(d.jsx)(h.a,{children:Object(d.jsx)(h.a.Text,{children:Object(d.jsxs)("div",{className:"content",children:[p.user,": ",p.content]})})})})}):Object(d.jsx)("div",{children:"Loading..."})}),g={width:100,padding:10},v=function(e){var t=Object(s.useState)(null),n=Object(r.a)(t,2),c=n[0],i=n[1],a=Object(s.useState)(!1),j=Object(r.a)(a,2),l=j[0],b=j[1],v=Object(s.useState)([]),y=Object(r.a)(v,2),k=y[0],S=y[1],C=Object(s.useState)([]),w=Object(r.a)(C,2),L=w[0],P=w[1],T=e.self;Object(s.useEffect)((function(){fetch(T).then((function(e){return e.json()})).then((function(e){b(!0),console.log("result",e),S(e),P(e.comments),console.log("comments",L)}),(function(e){b(!0),i(e)}))}),[]);var E=function(){var t="https://speakit-cs361.wl.r.appspot.com/users/"+e.user.id;fetch(t,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e.user)}).then((function(t){fetch("https://speakit-cs361.wl.r.appspot.com/posts/"+k.id,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)}).then((function(t){fetch(e.self).then((function(e){return e.json()})).then((function(e){console.log(e),S(e)}))}))}))},U=function(){e.user.liked.hasOwnProperty(k.id)&&1==e.user.liked[k.id]||(e.user.disliked.hasOwnProperty(k.id)&&1==e.user.disliked[k.id]&&(e.user.disliked[k.id]=0,k.dislikes-=1),e.user.liked[k.id]=1,k.likes+=1,E())},N=function(){e.user.disliked.hasOwnProperty(k.id)&&1==e.user.disliked[k.id]||(e.user.liked.hasOwnProperty(k.id)&&1==e.user.liked[k.id]&&(e.user.liked[k.id]=0,k.likes-=1),e.user.disliked[k.id]=1,k.dislikes+=1,E())};return c?Object(d.jsxs)("div",{children:["Error: ",c.message]}):l?e.user.username==k.user?Object(d.jsx)("div",{children:Object(d.jsxs)(o.a,{children:[Object(d.jsxs)(h.a,{children:[Object(d.jsxs)(h.a.Text,{xs:"1",children:[Object(d.jsxs)(u.a,{children:[Object(d.jsx)(O.a,{md:{span:2},children:Object(d.jsx)(p.a,{style:g,src:k.thumbnail,thumbnail:!0})}),Object(d.jsx)(O.a,{md:{span:2},children:Object(d.jsx)("span",{className:"title",children:k.title})}),Object(d.jsx)(O.a,{md:{span:2,offset:6},children:Object(d.jsx)(x.a,{variant:"danger",onClick:function(){fetch(T,{method:"DELETE"}).then((function(){fetch("https://speakit-cs361.wl.r.appspot.com/categories/"+e.category+"/posts").then((function(t){return t.json().then((function(t){e.setState(t)}),(function(e){}))}))}))},children:"Delete"})})]}),Object(d.jsxs)("div",{className:"content",children:[k.user,": ",k.content]})]}),Object(d.jsx)(h.a.Footer,{children:Object(d.jsxs)("div",{children:[Object(d.jsxs)(x.a,{onClick:U,children:["Like ",k.likes]}),Object(d.jsxs)(x.a,{onClick:N,children:["Dislike ",k.dislikes]}),Object(d.jsxs)(m.a,{onSubmit:function(t){t.preventDefault();var n=new FormData(t.target),s=Object.fromEntries(n.entries());s.user=e.user.username,s.parent=k.id,fetch("https://speakit-cs361.wl.r.appspot.com/comments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then((function(){fetch("https://speakit-cs361.wl.r.appspot.com/posts/"+k.id+"/comments").then((function(e){return e.json()})).then((function(e){console.log("hey",e),P(e)}))}))},children:[Object(d.jsx)(m.a.Group,{children:Object(d.jsx)(m.a.Control,{as:"textarea",placeholder:"Enter Comment",name:"content"})}),Object(d.jsx)(x.a,{variant:"primary",type:"submit",children:"Reply"})]})]})})]}),L.map((function(t){return Object(d.jsx)(O.a,{children:Object(d.jsx)(o.a,{children:Object(d.jsx)(f,{user:e.user,setUser:e.setUser,isLogin:e.isLogin,id:t.id,self:t.self,setState:P,parent:k.id})},t.id)})}))]})}):Object(d.jsx)("div",{children:Object(d.jsxs)(o.a,{children:[Object(d.jsxs)(h.a,{children:[Object(d.jsxs)(h.a.Text,{xs:"1",children:[Object(d.jsxs)(u.a,{children:[Object(d.jsx)(O.a,{md:{span:2},children:Object(d.jsx)(p.a,{style:g,src:k.thumbnail,thumbnail:!0})}),Object(d.jsx)(O.a,{md:{span:2},children:Object(d.jsx)("span",{className:"title",children:k.title})})]}),Object(d.jsx)("div",{className:"content",children:k.content})]}),Object(d.jsx)(h.a.Footer,{children:Object(d.jsxs)("div",{children:[Object(d.jsxs)(x.a,{onClick:U,children:["Like ",k.likes]}),"   ",Object(d.jsxs)(x.a,{onClick:N,children:["Dislike ",k.dislikes]})]})})]}),L.map((function(t){return Object(d.jsx)(O.a,{children:Object(d.jsx)(o.a,{children:Object(d.jsx)(f,{user:e.user,setUser:e.setUser,isLogin:e.isLogin,id:t.id,self:t.self,setState:P,parent:k.id})},t.id)})}))]})}):Object(d.jsx)("div",{children:"Loading..."})},y=function(){return Object(d.jsx)("div",{children:Object(d.jsx)("h1",{children:"Home"})})},k=(n(65),function(){var e=Object(s.useState)(null),t=Object(r.a)(e,2),n=t[0],c=t[1],i=Object(s.useState)(!1),j=Object(r.a)(i,2),l=j[0],b=j[1],p=Object(s.useState)([]),x=Object(r.a)(p,2),m=x[0],f=x[1];return Object(s.useEffect)((function(){fetch("https://speakit-cs361.wl.r.appspot.com/categories/list").then((function(e){return e.json()})).then((function(e){b(!0),console.log(e.results),f(e.results)}),(function(e){b(!0),c(e)}))}),[]),n?Object(d.jsxs)("div",{children:["Error: ",n.message]}):l?Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"Categories"}),Object(d.jsx)(o.a,{children:Object(d.jsx)(u.a,{xs:!0,md:5,children:m.map((function(e){return Object(d.jsx)(O.a,{children:Object(d.jsx)(h.a,{as:a.b,to:"categories/"+e.name.toString(),className:"categories",children:e.name},e.name)})}))})})]}):Object(d.jsx)("div",{children:"Loading..."})}),S=n(10),C=(n(66),{width:100,padding:10,margin:25}),w=function(e){var t=Object(s.useState)([]),n=Object(r.a)(t,2),c=n[0],i=n[1],a=Object(s.useState)(""),j=Object(r.a)(a,2),o=j[0],l=j[1],b=Object(s.useState)(null),h=Object(r.a)(b,2),u=(h[0],h[1],function(e){l(e.target.value)}),O=function(){""!=o&&fetch("https://cs361scraper.herokuapp.com/image/"+o).then((function(e){return e.json()})).then((function(e){console.log(e);var t=e.links;t=(t=t.replace(/\s+/g,"")).split(","),i(t)})).catch((function(e){console.log(e)}));console.log(o)};return 0==c.length?Object(d.jsxs)("div",{children:[Object(d.jsx)(m.a.Label,{children:"Pick Thumbnail"}),Object(d.jsx)(m.a.Control,{placeholder:"Enter Keyword",id:"keyword",type:"text",onChange:u}),Object(d.jsx)(x.a,{onClick:O,variant:"primary",type:"button",children:"Search Images"})]}):Object(d.jsxs)("div",{children:[Object(d.jsx)(m.a.Label,{children:"Pick Thumbnail"}),Object(d.jsx)(m.a.Control,{id:"keyword",type:"text",onChange:u}),Object(d.jsx)(x.a,{onClick:O,variant:"primary",type:"button",children:"Search Images"}),Object(d.jsxs)(m.a.Group,{children:[Object(d.jsx)(m.a.Check,{inline:!0,type:"radio",name:"thumbnail",value:c[0],label:Object(d.jsx)(p.a,{style:C,src:c[0],thumbnail:!0})}),Object(d.jsx)(m.a.Check,{inline:!0,type:"radio",name:"thumbnail",value:c[1],label:Object(d.jsx)(p.a,{style:C,src:c[1],thumbnail:!0})}),Object(d.jsx)(m.a.Check,{inline:!0,type:"radio",name:"thumbnail",value:c[2],label:Object(d.jsx)(p.a,{style:C,src:c[2],thumbnail:!0})}),Object(d.jsx)(m.a.Check,{inline:!0,type:"radio",name:"thumbnail",value:c[3],label:Object(d.jsx)(p.a,{style:C,src:c[3],thumbnail:!0})})]})]})},L=function(e){var t=Object(S.f)().category,n=Object(s.useState)(null),c=Object(r.a)(n,2),i=(c[0],c[1],Object(s.useState)(!1)),j=Object(r.a)(i,2),l=(j[0],j[1],Object(s.useState)(!1)),b=Object(r.a)(l,2),u=b[0],O=b[1],p=Object(s.useState)(!1),f=Object(r.a)(p,2);f[0],f[1];return u?Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"Post Created Successfully!"}),Object(d.jsxs)(x.a,{as:a.b,to:"/categories/"+t,children:["Back to ",t]})]}):Object(d.jsxs)("div",{children:[Object(d.jsxs)("h1",{children:["Creating Post for ",t]}),Object(d.jsx)(o.a,{children:Object(d.jsx)(h.a,{className:"CreatePost",children:Object(d.jsxs)(m.a,{onSubmit:function(n){n.preventDefault();var s=new FormData(n.target),c=Object.fromEntries(s.entries());c.category=t,c.user=e.user.username,fetch("https://speakit-cs361.wl.r.appspot.com/posts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(){O(!0)})).then((function(){fetch("https://speakit-cs361.wl.r.appspot.com/categories/"+t+"/posts").then((function(e){return e.json().then((function(e){}),(function(e){}))}))}))},children:[Object(d.jsxs)(m.a.Group,{children:[Object(d.jsx)(m.a.Label,{children:"Post Title"}),Object(d.jsx)(m.a.Control,{type:"text",placeholder:"Enter Title",name:"title"})]}),Object(d.jsxs)(m.a.Group,{children:[Object(d.jsx)(m.a.Label,{children:"Post Content"}),Object(d.jsx)(m.a.Control,{as:"textarea",placeholder:"Enter Content",name:"content"})]}),Object(d.jsx)(w,{}),Object(d.jsx)(x.a,{variant:"primary",type:"submit",children:"Create Post"})]})})})]})},P=(n(67),function(e){var t=Object(S.f)().category,n=Object(s.useState)(null),c=Object(r.a)(n,2),i=c[0],j=c[1],l=Object(s.useState)(!1),b=Object(r.a)(l,2),h=b[0],u=b[1],p=Object(s.useState)([]),m=Object(r.a)(p,2),f=m[0],g=m[1],y="https://speakit-cs361.wl.r.appspot.com/categories/"+t+"/posts";return Object(s.useEffect)((function(){fetch(y).then((function(e){return e.json()})).then((function(e){u(!0),console.log(e),g(e)}),(function(e){u(!0),j(e)}))}),[]),i?Object(d.jsxs)("div",{children:["Error: ",i.message]}):h?Object(d.jsxs)("div",{children:[Object(d.jsxs)("h1",{children:["Welcome to Speakit ",t,"!"]}),f.map((function(n){return Object(d.jsx)(O.a,{children:Object(d.jsx)(o.a,{children:Object(d.jsx)(v,{user:e.user,setUser:e.setUser,isLogin:e.isLogin,id:n.id,self:n.self,setState:g,category:t})},n.id)})})),Object(d.jsx)(O.a,{children:Object(d.jsx)(o.a,{children:Object(d.jsx)(x.a,{as:a.b,to:t+"/create",variant:"primary",type:"submit",children:"Create Post"})})})]}):Object(d.jsx)("div",{children:"Loading..."})}),T=(n(68),function(e){return null==e.user&&fetch("https://speakit-cs361.wl.r.appspot.com/users/"+e.login).then((function(e){return e.json()})).then((function(t){console.log(t),t.id=e.login,e.setUser(t)})),null==e.user?Object(d.jsx)("div",{children:"Loading..."}):Object(d.jsxs)("div",{children:[Object(d.jsxs)("h4",{children:["Welcome ",e.user.username,"!"]}),Object(d.jsx)(x.a,{variant:"primary",onClick:function(){e.setState(!1),e.setUser({username:null})},children:"Logout"})]})}),E=function(e){return Object(d.jsx)("div",{children:Object(d.jsx)(o.a,{children:Object(d.jsx)(h.a,{children:Object(d.jsxs)(m.a,{onSubmit:function(t){t.preventDefault();var n=new FormData(t.target),s=Object.fromEntries(n.entries());fetch("https://speakit-cs361.wl.r.appspot.com/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then((function(t){console.log(t.id),e.setState(t)}))},children:[Object(d.jsx)(m.a.Group,{children:Object(d.jsx)(m.a.Control,{type:"text",placeholder:"Username",name:"username"})}),Object(d.jsx)(m.a.Group,{children:Object(d.jsx)(m.a.Control,{type:"password",placeholder:"Password",name:"password"})}),Object(d.jsx)(x.a,{variant:"primary",type:"submit",children:"Sign Up"})]})})})})},U=function(e){var t=Object(s.useState)(!1),n=Object(r.a)(t,2),c=n[0],i=n[1],a=Object(s.useState)(!1),j=Object(r.a)(a,2),l=j[0],b=j[1],u=function(t){t.preventDefault();var n=new FormData(t.target),s=Object.fromEntries(n.entries());fetch("https://speakit-cs361.wl.r.appspot.com/users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then((function(e){return e.json()})).then((function(t){console.log(t),t.auth?e.setState(t.id):b(!0)}))};return c?Object(d.jsx)("div",{children:Object(d.jsx)(E,{setState:e.setState})}):l?Object(d.jsx)("div",{children:Object(d.jsx)(o.a,{children:Object(d.jsxs)(h.a,{children:[Object(d.jsx)("h4",{children:"Incorrect username/password"}),Object(d.jsxs)(m.a,{onSubmit:u,children:[Object(d.jsx)(m.a.Group,{children:Object(d.jsx)(m.a.Control,{type:"text",placeholder:"Username",name:"username"})}),Object(d.jsx)(m.a.Group,{children:Object(d.jsx)(m.a.Control,{type:"password",placeholder:"Password",name:"password"})}),Object(d.jsx)(x.a,{variant:"primary",type:"submit",children:"Log In"})]}),Object(d.jsx)(x.a,{variant:"primary",onClick:function(){return i(!0)},children:"Sign Up"})]})})}):Object(d.jsx)("div",{children:Object(d.jsx)(o.a,{children:Object(d.jsxs)(h.a,{children:[Object(d.jsxs)(m.a,{onSubmit:u,children:[Object(d.jsx)(m.a.Group,{children:Object(d.jsx)(m.a.Control,{type:"text",placeholder:"Username",name:"username"})}),Object(d.jsx)(m.a.Group,{children:Object(d.jsx)(m.a.Control,{type:"password",placeholder:"Password",name:"password"})}),Object(d.jsx)(x.a,{variant:"primary",type:"submit",children:"Log In"})]}),Object(d.jsx)(x.a,{variant:"primary",onClick:function(){return i(!0)},children:"Sign Up"})]})})})},N={width:100,padding:10},D=function(e){return e.isLogin?Object(d.jsx)("div",{style:N,children:Object(d.jsx)(T,{user:e.user,setUser:e.setUser,login:e.isLogin,setState:e.setLogin})}):Object(d.jsx)("div",{children:Object(d.jsx)(U,{setState:e.setLogin})})},F=(n(69),function(){var e=Object(s.useState)(!1),t=Object(r.a)(e,2),n=t[0],c=t[1],i=Object(s.useState)({username:null}),a=Object(r.a)(i,2),j=a[0],o=a[1];return Object(d.jsxs)("div",{children:[Object(d.jsx)(b,{}),Object(d.jsxs)(u.a,{className:"show-grid",children:[Object(d.jsx)(O.a,{xs:2,md:4,children:Object(d.jsx)(D,{user:j,setUser:o,isLogin:n,setLogin:c})}),Object(d.jsx)(O.a,{xs:10,md:8,children:Object(d.jsxs)(S.c,{children:[Object(d.jsx)(S.a,{path:"/categories/:category/create",children:Object(d.jsx)(L,{user:j,setUser:o,isLogin:n})}),Object(d.jsx)(S.a,{path:"/categories/:category",children:Object(d.jsx)(P,{user:j,setUser:o,isLogin:n})}),Object(d.jsx)(S.a,{path:"/categories",children:Object(d.jsx)(k,{user:j,setUser:o,isLogin:n})}),Object(d.jsx)(S.a,{path:"/",children:Object(d.jsx)(y,{})})]})})]})]})}),G=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,80)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),s(e),c(e),i(e),r(e)}))};i.a.render(Object(d.jsx)(a.a,{children:Object(d.jsx)(F,{})}),document.getElementById("root")),G()}},[[70,1,2]]]);
//# sourceMappingURL=main.5aa2e789.chunk.js.map